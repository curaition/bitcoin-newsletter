{
  "$schema": "https://schema.railpack.com",
  "python": {
    "version": "3.11",
    "manager": "uv"
  },
  "build": {
    "commands": [
      "uv sync --frozen --no-dev",
      "uv run alembic upgrade head"
    ]
  },
  "deploy": {
    "startCommand": "uv run python start_processes.py",
    "variables": {
      "PYTHONFAULTHANDLER": "1",
      "PYTHONUNBUFFERED": "1", 
      "PYTHONDONTWRITEBYTECODE": "1",
      "UV_SYSTEM_PYTHON": "1",
      "PYTHONPATH": "/app/src"
    }
  }
}
